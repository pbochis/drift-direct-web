<link rel="import" href="../../../styles/shared-styles.html">
<link rel="import" href="../../../bower_components/iron-image/iron-image.html">

<!--
	This element displays data under the form
	Label Value
	Use the attribute link, if value is a link
	Use the attribute image if value is an image. Default height=400, width=600.
	They can be changed by setting different attributes
-->
<dom-module id="description-list-item">
	<template>
		<style is="custom-style" include="shared-styles">
			.list-item {
				margin: 5px 0;
				width: 100%;
				@apply(--layout-horizontal);
			}

			.list-item > .item-label{
				width: 20%;
				min-width:200px;
				font-weight: bold;
			}

			.list-item > .item-value{
				width: 90%;
				min-width: 200px;
			}
		</style>
		<template is="dom-if" if="{{showMe}}">
			<div class="list-item">
				<div class="item-label">{{label}}</div>
				<template is="dom-if" if="{{image}}">
					<iron-image id="image" height="{{height}}" width="{{width}}" src="{{_pictureUrl(value)}}" sizing="contain"></iron-image>
				</template>
				<template is="dom-if" if="{{link}}">
					<a class="item-value" href$="{{value}}" target="_blank">{{value}}</a>
				</template>
				<template is="dom-if" if="{{textOnly}}">
					<div class="item-value">{{value}}</div>
				</template>
			</div>
		</template>
	</template>
	<script>
		Polymer({
			is: 'description-list-item',
			properties: {
				label: {
					type: String,
					notify: true
				},
				value: {
					type: String,
					notify: true,
					observer: '_valueSet'
				},
				link: {
					type: Boolean,
					notify: true,
					value: false
				},
				image: {
					type: Boolean,
					notify: true,
					value: false
				},
				textOnly: {
					type: Boolean,
					notify: true
				},
				showMe: {
					type: Boolean,
					notify: true,
					value: false
				},
				height: {
					type: Number,
					notify: true,
					value: 400
				},
				width: {
					type: Number,
					notify: true,
					value: 600
				}
			},
			observers: [
				'_set(image, link)'
			],
			_set: function(){
				this.textOnly = !this.image && !this.link;
			},
			_valueSet: function(){
				if (this.value !== undefined && this.value !== null){
					this.showMe = true;
				}else{
					this.showMe = false;
				}
			},
			_pictureUrl: function(id){
				return util.imageLink(id);
			}
		});
	</script>
</dom-module>